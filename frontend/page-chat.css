/* page-chat.css — correções de layout do chat (mobile-first)
   Objetivo:
   - evitar “gap” abaixo das mensagens
   - manter barra de digitar sempre colada no fundo do chat
   - garantir que trilhos horizontais não travem o scroll vertical (touch)
*/

body[data-page="chat"]{
  /* O chat controla seus próprios scrolls internos */
  overflow: hidden;
}

body[data-page="chat"] .coluna-chat,
body[data-page="chat"] #box-conversa-real{
  overflow: hidden !important;
  min-height: 0;
}

body[data-page="chat"] .mensagens-body{
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
  /* evita “espaço morto” quando rola pro fim */
  padding-bottom: 16px !important;
  scroll-padding-bottom: 90px;
  -webkit-overflow-scrolling: touch;
}

body[data-page="chat"] .chat-footer{
  flex: 0 0 auto;
  position: sticky;
  bottom: 0;
  z-index: 50;
  padding-bottom: calc(12px + env(safe-area-inset-bottom));
}

/* Mobile/tablet: ajustar altura útil do chat para não “sobrar” espaço */
@media (max-width: 1024px){
  body[data-page="chat"] .messenger-layout{
    margin-top: var(--navbar-height-mobile) !important;
    height: calc(100vh - var(--navbar-height-mobile)) !important;
    height: calc(100svh - var(--navbar-height-mobile)) !important;
    height: calc(100dvh - var(--navbar-height-mobile)) !important;
  }
}
