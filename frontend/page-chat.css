/* ============================================================
   Page - Chat
   Data: 2026-02-07
   - Ajustes de safe-area + evitar overflow e gaps no mobile
   ============================================================ */

@media (max-width: 1024px){
  body[data-page="chat"]{
    padding-bottom: 0 !important;
    overflow: hidden !important;
  }

  body[data-page="chat"] .navbar-mobile,
  body[data-page="chat"] .bottom-nav,
  body[data-page="chat"] #overlay-menu{
    display: none !important;
  }

  body[data-page="chat"] .doke-bottom-spacer{
    display: none !important;
    height: 0 !important;
  }

  /* Chat nao usa <main>; zera espacamento extra global do shell */
  body[data-page="chat"].doke-no-main{
    padding-bottom: 0 !important;
  }

  body[data-page="chat"] .messenger-layout{
    width: 100% !important;
    max-width: 100% !important;
    margin-top: 0 !important;
    margin-left: 0 !important;
    /* Altura util = viewport - header shell - bottom nav real
       (evita gap entre composer e nav e evita sobreposicao) */
    height: calc(100vh - var(--doke-h) - var(--doke-btm-real)) !important;
    height: calc(100svh - var(--doke-h) - var(--doke-btm-real)) !important;
    height: calc(100dvh - var(--doke-h) - var(--doke-btm-real)) !important;
    min-height: 0 !important;
    margin-bottom: 0 !important;
    overflow: hidden !important;
  }

  /* Colunas com altura total do container (sem padding extra embaixo) */
  body[data-page="chat"] .coluna-lista,
  body[data-page="chat"] .coluna-chat{
    height: 100% !important;
    min-height: 0 !important;
    padding-bottom: 0 !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
  }

  body[data-page="chat"] #box-conversa-real{
    display: flex !important;
    flex-direction: column !important;
    height: 100% !important;
    min-height: 0 !important;
    overflow: hidden !important;
  }

  body[data-page="chat"] .mensagens-body{
    flex: 1 1 auto !important;
    min-height: 0 !important;
    height: auto !important;
  }

  body[data-page="chat"] #area-input-texto,
  body[data-page="chat"] #uiGravando{
    min-width: 0 !important;
  }

  body[data-page="chat"] .input-msg{
    min-width: 0 !important;
  }

  body[data-page="chat"] .chat-footer,
  body[data-page="chat"] .composer,
  body[data-page="chat"] .message-input-area{
    margin-bottom: 0 !important;
  }

  /* Composer mais compacto/colado ao nav */
  body[data-page="chat"] .chat-footer{
    padding: 7px 10px !important;
    min-height: 54px !important;
    border-top: 1px solid rgba(2,6,23,.06) !important;
  }

  body[data-page="chat"] #area-input-texto{
    gap: 8px !important;
  }

  body[data-page="chat"] .btn-attach,
  body[data-page="chat"] .btn-enviar{
    width: 38px !important;
    height: 38px !important;
  }

  body[data-page="chat"] .input-msg{
    padding: 10px 14px !important;
    border-radius: 22px !important;
  }

  body[data-page="chat"] .mensagens-body{
    padding-bottom: 2px !important;
  }

  body[data-page="chat"] .doke-bottom-nav{
    padding-top: 3px !important;
  }

  body[data-page="chat"] img,
  body[data-page="chat"] video,
  body[data-page="chat"] audio{
    max-width: 100% !important;
  }
}

body[data-page="chat"] .doke-bottom-spacer{
  display: none !important;
  height: 0 !important;
}

/* Garante barra de envio colada no nav em qualquer largura */
body[data-page="chat"] .chat-footer{
  margin-top: auto !important;
  margin-bottom: 0 !important;
  flex-shrink: 0 !important;
  position: relative;
  z-index: 2;
}

/* Desktop/tablet grande: evita estouro horizontal em blocos internos */
body[data-page="chat"] .messenger-layout,
body[data-page="chat"] .coluna-lista,
body[data-page="chat"] .coluna-chat{
  min-width: 0 !important;
}

/* Icones de acao sempre centralizados */
body[data-page="chat"] .btn-attach,
body[data-page="chat"] .btn-enviar,
body[data-page="chat"] .chat-menu-btn,
body[data-page="chat"] .agenda-nav,
body[data-page="chat"] .scroll-down,
body[data-page="chat"] .btn-voltar-mobile{
  display: grid !important;
  place-items: center !important;
  line-height: 1 !important;
  padding: 0 !important;
}

body[data-page="chat"] .btn-attach i,
body[data-page="chat"] .btn-enviar i,
body[data-page="chat"] .chat-menu-btn i,
body[data-page="chat"] .agenda-nav i,
body[data-page="chat"] .scroll-down i,
body[data-page="chat"] .btn-voltar-mobile i{
  display: block !important;
  line-height: 1 !important;
}
