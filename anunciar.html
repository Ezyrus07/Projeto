<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anunciar Servi√ßo Completo | Doke</title>
<style>
:root{
  --cor0: #0b7768; /* Verde prim√°rio */
  --cor1: #737373; /* Cinza */
  --cor2: #2a5f90; /* Azul */
  --cor3: #f35b5b; /* Vermelho erro/aviso */
  --cor4: #ecedf2; /* Fundo claro */
  --cor-bg-input: #f8f9fa;
  --cor-borda: #e0e0e0;
  --cor-texto: #333;
  --fonte-padrao: "Poppins", sans-serif;

  /* Sidebar configs */
  --sidebar-width: 0px; 
  --sidebar-width-tablet: 80px; 
  --sidebar-width-desktop: 260px;
}


*{box-sizing:border-box;font-family:Poppins,system-ui,sans-serif}
body{
  margin:0;
  background:#fff;
  color:var(--cor-texto);
  padding-left: var(--sidebar-width); 
}

/* ===========================================
   ESTILOS ESPEC√çFICOS DO FORMUL√ÅRIO
   =========================================== */

.container-anuncio {
    max-width: 900px;
    margin: 10px auto 40px auto;
    padding: 20px;
}

.header-anuncio {
    margin-bottom: 30px;
    text-align: center;
}
.header-anuncio h1 { color: var(--cor2); margin-bottom: 10px; }
.header-anuncio p { color: var(--cor1); }

/* Barra de Progresso */
.progress-bar {
    display: flex;
    justify-content: space-between;
    margin-bottom: 40px;
    position: relative;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}
.progress-bar::before {
    content: '';
    position: absolute;
    top: 50%; left: 0; width: 100%; height: 2px;
    background: var(--cor4); z-index: -1;
    transform: translateY(-50%);
}
.step-indicator {
    background: #fff;
    border: 2px solid var(--cor4);
    color: var(--cor1);
    width: 40px; height: 40px;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-weight: 600; transition: all 0.3s;
}
.step-indicator.active {
    border-color: var(--cor0); background: var(--cor0);
    color: #fff; box-shadow: 0 0 0 4px rgba(11, 119, 104, 0.2);
}
.step-indicator.completed {
    background: var(--cor2); border-color: var(--cor2); color: #fff;
}

/* Steps */
.form-step { display: none; animation: fadeIn 0.5s; }
.form-step.active { display: block; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Inputs e Labels */
.form-group { margin-bottom: 20px; position: relative; }
.form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--cor-texto); }
.form-group span.optional { color: var(--cor1); font-size: 0.85em; font-weight: 400; }

input[type="text"], input[type="number"], input[type="tel"], input[type="email"], input[type="url"], input[type="time"], select, textarea {
    width: 100%; padding: 12px 15px;
    border: 1px solid var(--cor-borda);
    border-radius: 8px; background: var(--cor-bg-input);
    font-size: 15px; transition: border 0.3s;
}
input:focus, select:focus, textarea:focus {
    outline: none; border-color: var(--cor0); background: #fff;
}
textarea { resize: vertical; min-height: 100px; }

/* Grid de Inputs (Lado a Lado) */
.row-inputs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}
@media(max-width:600px){ .row-inputs { grid-template-columns: 1fr; } }

/* Radio Cards (Select√°vel visual) */
.toggle-wrapper { display: flex; gap: 15px; flex-wrap: wrap; }
.radio-card { flex: 1; min-width: 140px; }
.radio-card input { display: none; }
.radio-card label {
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    padding: 15px; border: 1px solid var(--cor-borda);
    border-radius: 8px; text-align: center; cursor: pointer;
    transition: all 0.2s; font-weight: 600; color: var(--cor1); height: 100%;
}
.radio-card input:checked + label {
    border-color: var(--cor0); background: rgba(11, 119, 104, 0.05); color: var(--cor0);
}

/* Checkbox Grid (Pagamentos) */
.checkbox-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px;
}
.checkbox-card input { display: none; }
.checkbox-card label {
    display: block; padding: 10px; border: 1px solid var(--cor-borda);
    border-radius: 6px; text-align: center; cursor: pointer; font-size: 14px;
}
.checkbox-card input:checked + label {
    background: var(--cor2); color: white; border-color: var(--cor2);
}

/* Upload Zone */
.upload-zone {
    border: 2px dashed var(--cor2); border-radius: 12px;
    padding: 30px; text-align: center; background: #f0f4f8;
    cursor: pointer; transition: background 0.2s;
}
.upload-zone:hover { background: #e6eaf0; }
.upload-zone.security { border-color: var(--cor0); background: rgba(11, 119, 104, 0.05); }

/* Builder de Perguntas */
.question-builder {
    background: #fff; border: 1px solid var(--cor-borda);
    border-radius: 14px; padding: 20px; margin-bottom: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

/* Navega√ß√£o */
.form-nav {
    display: flex; justify-content: space-between; margin-top: 40px;
    padding-top: 20px; border-top: 1px solid var(--cor-borda);
}
.btn-prev {
    background: var(--cor1); color: white; border: 0; padding: 12px 24px;
    border-radius: 8px; cursor: pointer; font-weight: 600;
}
.btn-next, .btn-submit {
    background: var(--cor0); color: white; border: 0; padding: 12px 30px;
    border-radius: 8px; cursor: pointer; font-weight: 600;
}
.btn-prev:hover, .btn-next:hover { opacity: 0.9; }

/* Termos */
.terms-box {
    background: var(--cor4); padding: 15px; border-radius: 8px;
    margin-top: 20px; font-size: 14px; display: flex; gap: 10px; align-items: flex-start;
}

/* ===========================================
   NOVO CSS: MULTI-SELECT CATEGORIA
   =========================================== */
.multi-select-container {
    border: 1px solid var(--cor-borda);
    border-radius: 8px;
    background: var(--cor-bg-input);
    padding: 5px;
    position: relative;
}
.tags-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    padding: 5px;
}
.tag-item {
    background: var(--cor0);
    color: #fff;
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 6px;
}
.tag-item span { cursor: pointer; font-weight: bold; }
.tag-item span:hover { color: #ffcccc; }

#cat-search {
    border: none;
    background: transparent;
    padding: 8px;
    outline: none;
    min-width: 150px;
    flex: 1;
}
.cat-dropdown {
    position: absolute;
    top: 100%; left: 0; width: 100%;
    max-height: 200px;
    overflow-y: auto;
    background: #fff;
    border: 1px solid var(--cor0);
    border-radius: 0 0 8px 8px;
    z-index: 10;
    display: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.cat-option {
    padding: 10px 15px;
    cursor: pointer;
    border-bottom: 1px solid #eee;
    font-size: 14px;
}
.cat-option:hover { background-color: rgba(11, 119, 104, 0.1); }
.cat-option.selected { background-color: #eee; color: #999; cursor: not-allowed; }

/* ===========================================
   NOVO CSS: AGENDA DETALHADA
   =========================================== */
.agenda-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}
.agenda-item {
    background: #fff;
    border: 1px solid var(--cor-borda);
    border-radius: 8px;
    padding: 12px;
    transition: all 0.3s;
}
.agenda-header {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
}
.agenda-header label { margin: 0; cursor: pointer; flex: 1; font-weight: 600; }
.agenda-times {
    display: none; /* Escondido por padr√£o */
    margin-top: 15px;
    padding-top: 10px;
    border-top: 1px solid #eee;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
}
.agenda-times.show { display: flex; }
.time-group {
    display: flex;
    flex-direction: column;
    flex: 1;
}
.time-group label { font-size: 12px; color: var(--cor1); margin-bottom: 2px; }
.time-separator { color: var(--cor1); font-weight: bold; align-self: center; padding-top: 15px; }

/* Sidebar CSS (Mantido) */
.sidebar-icones {
    display: none; position: fixed; top: 0; left: 0;
    width: var(--sidebar-width); height: 100vh; background-color: white;
    padding: 20px 0; box-shadow: 2px 0 10px rgba(0, 0, 0, 0.08);
    flex-direction: column; align-items: center; gap: 32px; z-index: 1001; overflow-y: auto;
}
.sidebar-icones #logo img { height: 50px; display: block; margin-bottom: 20px; }
.sidebar-icones .item {
    display: flex; align-items: center; justify-content: flex-start;
    gap: 15px; width: 90%; max-width: 230px; cursor: pointer;
    padding: 12px 10px; border-radius: 999px; margin: 0 auto;
}
.sidebar-icones .item a { text-decoration: none; display: flex; align-items: center; gap: 15px; width: 100%; color: inherit; }
.sidebar-icones .item:hover { background-color: var(--cor4); }
.sidebar-icones .icon { width: 28px; height: 28px; flex-shrink: 0; }
.sidebar-icones span { font-size: 19px; font-weight: 600; color: var(--cor1); }
.sidebar-icones .item:hover span { color: var(--cor-texto); }
.sidebar-icones .item.active { background-color: var(--cor4); }
.sidebar-icones .item.active span { color: var(--cor-texto); font-weight: 700; }
.icon.verde { filter: invert(40%) sepia(92%) saturate(357%) hue-rotate(128deg) brightness(94%) contrast(93%); }
.icon.azul { filter: invert(32%) sepia(32%) saturate(773%) hue-rotate(173deg) brightness(92%) contrast(90%); }

@media (min-width: 768px) and (max-width: 1023px) {
    :root { --sidebar-width: var(--sidebar-width-tablet); }
    .sidebar-icones { display: flex; }
    .sidebar-icones span { display: none; }
    .sidebar-icones .item { justify-content: center; width: 100%; padding: 12px; }
}
@media (min-width: 1024px) {
    :root { --sidebar-width: var(--sidebar-width-desktop); }
    .sidebar-icones { display: flex; gap: 15px; }
    .sidebar-icones span { display: block; }
    .sidebar-icones .item { justify-content: flex-start; padding: 12px 20px 12px 15px; }
}

.navbar-mobile {
  display: flex;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--navbar-height-mobile);
  background: white;
  padding: 14px 20px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
  z-index: 1000;
  align-items: center;
  justify-content: space-between;
}

#logo-mobile img {
  height: 40px;
}

@media (max-width: 767px) {
  .navbar-mobile {
    padding: 10px 20px;
    height: 60px;
  }
  #logo-mobile img {
    height: 32px;
  }
}

.entrar {
  display: flex;
  align-items: center;
  gap: 6px;
  background-color: #fff;
  color: var(--cor0);
  border: 2px solid var(--cor0);
  border-radius: 25px;
  padding: 6px 10px;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: 0.3s;
  white-space: nowrap;
  font-size: 0.85rem;
}

.entrar:hover {
  background-color: var(--cor0);
  color: white;
}
.entrar:hover svg path { fill: #fff; }

.bottom-nav {
  display: flex;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--bottom-nav-height);
  background: white;
  justify-content: space-around;
  align-items: flex-start;
  padding-top: 12px;
  padding-bottom: 12px;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
  z-index: 999;
  border-top: 1px solid #eee;
}

.bottom-nav .item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  color: var(--cor1);
  font-size: 11px;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.2s ease;
}

.bottom-nav .item img, 
.bottom-nav .icon { 
  width: 26px; 
  height: 26px; 
}

.bottom-nav .item:active, 
.bottom-nav .item.active { 
  color: var(--cor0); 
}

.bottom-nav .item.active .icon.verde,
.bottom-nav .item.active .icon.azul {
    filter: invert(40%) sepia(92%) saturate(357%) hue-rotate(128deg) brightness(94%) contrast(93%);
}

/* ===========================================
   HOVER EFFECTS
   =========================================== */
.btn-prev, .btn-next, .btn-submit, 
.radio-card label, .checkbox-card label, 
.upload-zone, .question-builder button {
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.btn-prev {
    background: #fff; color: var(--cor1); border: 1px solid var(--cor1);
    padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600;
}
.btn-prev:hover {
    background: var(--cor1); color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.btn-next, .btn-submit {
    background: var(--cor0); color: white; border: 0; padding: 12px 30px;
    border-radius: 8px; cursor: pointer; font-weight: 600;
    box-shadow: 0 4px 6px rgba(11, 119, 104, 0.2);
}

.btn-next:hover, .btn-submit:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(11, 119, 104, 0.35);
    filter: brightness(1.05);
}

.btn-next:active, .btn-submit:active {
    transform: translateY(-1px);
    box-shadow: 0 3px 5px rgba(0,0,0,0.1);
}

.radio-card label:hover {
    border-color: var(--cor0);
    color: var(--cor0);
    background: #fff;
    transform: translateY(-4px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.radio-card input:checked + label {
    border-color: var(--cor0); 
    background: rgba(11, 119, 104, 0.08); 
    color: var(--cor0);
    box-shadow: 0 4px 10px rgba(11, 119, 104, 0.15);
    transform: translateY(0);
}

.upload-zone:hover {
    background: #eef2f6;
    border-color: var(--cor0);
    transform: scale(1.01);
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.question-builder button { opacity: 0.8; }
.question-builder button:hover {
    opacity: 1;
    background-color: #f9f9f9 !important;
    transform: translateX(2px);
}

.input-error {
    border-color: var(--cor3) !important;
    background-color: #fff0f0 !important;
    box-shadow: 0 0 0 3px rgba(243, 91, 91, 0.15) !important;
    animation: shake 0.3s ease-in-out;
}

.upload-zone.input-error {
    border: 2px dashed var(--cor3) !important;
    background-color: #fff0f0 !important;
    animation: shake 0.3s ease-in-out;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-4px); }
    75% { transform: translateX(4px); }
}

@media (min-width: 768px) {
  .navbar-mobile, 
  .bottom-nav { 
    display: none; 
  }
  body { padding-top: 0; padding-bottom: 0; }
}
</style>
</head>
<body>

    <aside class="sidebar-icones">
        <div id="logo">
            <a href="index.html">
                <img src="assets/Imagens/doke-logo.png" alt="Logotipo da plataforma Doke">
            </a>
        </div>

        <div class="item">
            <img src="https://cdn-icons-png.flaticon.com/512/1946/1946436.png" class="icon azul" alt="In√≠cio">
            <span>In√≠cio</span>
        </div>
        <div class="item">
            <img src="https://cdn-icons-png.flaticon.com/512/622/622669.png" class="icon verde" alt="Explorar">
            <span>Explorar</span>
        </div>
        <div class="item">
            <img src="https://cdn-icons-png.flaticon.com/512/1827/1827392.png" class="icon azul" alt="Notifica√ß√µes">
            <span>Notifica√ß√µes</span>
        </div>
        <div class="item">
            <a href="chat.html"><img src="https://cdn-icons-png.flaticon.com/512/561/561127.png" class="icon azul" alt="Mensagens">
            <span>Mensagens</span></a>
        </div>
        <div class="item">
            <img src="https://cdn-icons-png.flaticon.com/512/1144/1144760.png" class="icon verde" alt="Comunidades">
            <span>Comunidades</span>
        </div>
        <div class="item">
            <img src="https://cdn-icons-png.flaticon.com/512/1077/1077114.png" class="icon verde" alt="Comunidades">
            <a href="meuperfil.html"><span>Perfil<span></a>
        </div>
        <div class="item">
            <img src="https://cdn-icons-png.flaticon.com/512/56/56763.png" class="icon azul" alt="Mais">
            <span>Mais</span>
        </div>
    </aside>

    <main>
        <div class="container-anuncio">
            
            <div class="header-anuncio">
                <h1>Anunciar Servi√ßo</h1>
                <p>Preencha os dados completos para passar credibilidade.</p>
            </div>

            <div class="progress-bar">
                <div class="step-indicator active" id="p-1">1</div>
                <div class="step-indicator" id="p-2">2</div>
                <div class="step-indicator" id="p-3">3</div>
                <div class="step-indicator" id="p-4">4</div>
            </div>

<form id="formAnuncio" onsubmit="event.preventDefault(); alert('Enviado!');">

    <div class="form-step active" id="step-1">
        <h3>1. Detalhes do Servi√ßo</h3>
        
        <div class="form-group">
            <label>T√≠tulo do An√∫ncio</label>
            <input type="text" placeholder="Ex: Manuten√ß√£o El√©trica Residencial e Predial" required>
        </div>

        <div class="row-inputs">
            <div class="form-group">
                <label>Categorias (Selecione uma ou mais)</label>
                <div class="multi-select-container" onclick="document.getElementById('cat-search').focus()">
                    <div class="tags-wrapper" id="tags-wrapper">
                        </div>
                    <input type="text" id="cat-search" placeholder="Selecione uma ou mais categoria " oninput="filtrarCategorias()" onfocus="mostrarDropdown()">
                    
                    <div class="cat-dropdown" id="cat-dropdown">
                        </div>
                </div>
                <input type="text" id="categorias-validacao" required style="opacity: 0; position: absolute; height: 1px; width: 1px; bottom: 0;">
                <span class="optional" style="font-size:12px">Clique nas op√ß√µes para adicionar.</span>
            </div>

            <div class="form-group">
                <label>Palavras-chave / Tags</label>
                <input type="text" placeholder="Ex: eletricista, reparo, fia√ß√£o (separar por v√≠rgula)" required>
            </div>
        </div>

        <div class="form-group">
            <label>Tipo de Atendimento</label>
            <div class="toggle-wrapper">
                <div class="radio-card">
                    <input type="radio" name="modo_atend" id="presencial" checked>
                    <label for="presencial">Presencial </label>
                </div>
                <div class="radio-card">
                    <input type="radio" name="modo_atend" id="online">
                    <label for="online">Online </label>
                </div>
                <div class="radio-card">
                    <input type="radio" name="modo_atend" id="ambos">
                    <label for="ambos">Ambos </label>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Modelo de Cobran√ßa</label>
            <div class="toggle-wrapper" style="margin-bottom: 10px;">
                <div class="radio-card">
                    <input type="radio" name="tipo_preco" id="orcamento" value="orcamento" checked onchange="togglePriceInput()">
                    <label for="orcamento">Sob Or√ßamento</label>
                </div>
                <div class="radio-card">
                    <input type="radio" name="tipo_preco" id="fixo" value="fixo" onchange="togglePriceInput()">
                    <label for="fixo">Pre√ßo Fixo</label>
                </div>
            </div>
            <div id="price-input-wrapper" style="display:none;">
                <input type="text" placeholder="R$ 0,00 (Valor do servi√ßo)" style="border-color:var(--cor0);">
            </div>
        </div>

        <div class="form-group">
            <label>Descri√ß√£o Detalhada</label>
            <textarea placeholder="Descreva o que est√° incluso, etapas do servi√ßo, equipamentos utilizados..." required></textarea>
        </div>

        <div class="form-group">
            <label>Fotos do Trabalho</label>
            <div class="upload-zone" onclick="document.getElementById('file-work').click()">
                <span style="font-size:30px">üì∑</span>
                <p>Adicionar fotos do servi√ßo</p>
                <input type="file" id="file-work" multiple style="display: none;" required>
            </div>
        </div>
    </div>

    <div class="form-step" id="step-2">
        <h3>2. Qualifica√ß√µes e Pol√≠ticas</h3>
        
        <div class="row-inputs">
            <div class="form-group">
                <label>Experi√™ncia</label>
                <input type="text" placeholder="Ex: 5 anos ou +100 projetos" required>
            </div>
            <div class="form-group">
                <label>Prazo M√©dio (Opcional)</label>
                <input type="text" placeholder="Ex: 2 dias √∫teis">
            </div>
        </div>

        <div class="form-group">
            <label>Certificados / Diplomas (opcional)</label>
            <div class="upload-zone" style="padding: 15px;" onclick="document.getElementById('file-cert').click()">
                <span style="font-size:20px">üìÑ</span> <span style="font-size:14px">Clique para anexar PDF ou Imagem</span>
                <input type="file" id="file-cert" multiple style="display: none;">
            </div>
        </div>

        <div class="form-group">
            <label>Garantia do Servi√ßo</label>
            <textarea style="min-height: 60px;" placeholder="Oferece garantia? Se sim, de quanto tempo e cobrindo o que?" required></textarea>
        </div>

        <div class="form-group">
            <label>Pol√≠tica de Cancelamento</label>
            <select required>
                <option value="">Selecione...</option>
                <option>Flex√≠vel (Cancelamento gr√°tis at√© 24h antes)</option>
                <option>Moderada (Multa de 50% em cima da hora)</option>
                <option>R√≠gida (Sem reembolso de sinal)</option>
                <option>A combinar</option>
            </select>
        </div>

        <div class="form-group">
            <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                <input type="checkbox" style="width:auto;"> 
                <span style="font-weight:600; color:var(--cor3);">Atendo Emerg√™ncias / 24 Horas</span>
            </label>
        </div>
    </div>

    <div class="form-step" id="step-3">
        <h3>3. Dados e Verifica√ß√£o</h3>

        <div class="form-group">
            <label>Voc√™ atua como:</label>
            <div class="toggle-wrapper">
                <div class="radio-card">
                    <input type="radio" name="tipo_pessoa" id="pf" checked onchange="toggleCNPJ()">
                    <label for="pf">Pessoa F√≠sica</label>
                </div>
                <div class="radio-card">
                    <input type="radio" name="tipo_pessoa" id="pj" onchange="toggleCNPJ()">
                    <label for="pj">Empresa (CNPJ)</label>
                </div>
            </div>
        </div>

        <div class="row-inputs">
            <div class="form-group">
                <label id="lbl-nome">Nome Completo</label>
                <input type="text" placeholder="Nome igual ao documento" required>
            </div>
            <div class="form-group">
                <label id="lbl-doc">CPF</label>
                <input type="text" placeholder="000.000.000-00" required>
            </div>
        </div>

        <div class="form-group">
            <label>Foto do Documento (RG ou CNH) <span style="color:var(--cor2);">*Seguran√ßa</span></label>
            <div class="upload-zone security" onclick="document.getElementById('file-rg').click()">
                <span style="font-size:30px">üîí</span>
                <p>Sua foto e documento n√£o ser√£o exibidos publicamente.</p>
                <input type="file" id="file-rg" style="display: none;" required>
            </div>
        </div>

        <div class="row-inputs">
            <div class="form-group">
                <label>Telefone / WhatsApp (Confirmar)</label>
                <input type="tel" placeholder="(00) 00000-0000" required>
            </div>
            <div class="form-group">
                <label>Localiza√ß√£o (CEP)</label>
                <input type="text" placeholder="00000-000" required>
            </div>
        </div>

        <div class="form-group">
            <label>Formas de Pagamento Aceitas</label>
            <div class="checkbox-grid">
                <div class="checkbox-card"><input type="checkbox" id="pg-pix"> <label for="pg-pix">Pix</label></div>
                <div class="checkbox-card"><input type="checkbox" id="pg-din"> <label for="pg-din">Dinheiro</label></div>
                <div class="checkbox-card"><input type="checkbox" id="pg-cd"> <label for="pg-cd">Cart√£o D√©bito</label></div>
                <div class="checkbox-card"><input type="checkbox" id="pg-cc"> <label for="pg-cc">Cart√£o Cr√©dito</label></div>
                <div class="checkbox-card"><input type="checkbox" id="pg-bol"> <label for="pg-bol">Boleto</label></div>
            </div>
        </div>
    </div>

    <div class="form-step" id="step-4">
        <h3>4. Disponibilidade e Triagem</h3>
        
        <div class="form-group">
            <label>Agenda e Hor√°rios</label>
            <p style="font-size:13px; color:var(--cor1); margin-bottom:10px;">Marque os dias e defina o hor√°rio de in√≠cio e fim.</p>
            
            <div class="agenda-list">
                <div class="agenda-item">
                    <div class="agenda-header">
                        <input type="checkbox" id="chk-seg" onchange="toggleTime('seg')">
                        <label for="chk-seg">Segunda-feira</label>
                    </div>
                    <div class="agenda-times" id="time-seg">
                        <div class="time-group">
                            <label>In√≠cio</label>
                            <input type="time" name="seg-inicio">
                        </div>
                        <span class="time-separator">at√©</span>
                        <div class="time-group">
                            <label>Fim</label>
                            <input type="time" name="seg-fim">
                        </div>
                    </div>
                </div>

                <div class="agenda-item">
                    <div class="agenda-header">
                        <input type="checkbox" id="chk-ter" onchange="toggleTime('ter')">
                        <label for="chk-ter">Ter√ßa-feira</label>
                    </div>
                    <div class="agenda-times" id="time-ter">
                        <div class="time-group">
                            <label>In√≠cio</label>
                            <input type="time" name="ter-inicio">
                        </div>
                        <span class="time-separator">at√©</span>
                        <div class="time-group">
                            <label>Fim</label>
                            <input type="time" name="ter-fim">
                        </div>
                    </div>
                </div>

                <div class="agenda-item">
                    <div class="agenda-header">
                        <input type="checkbox" id="chk-qua" onchange="toggleTime('qua')">
                        <label for="chk-qua">Quarta-feira</label>
                    </div>
                    <div class="agenda-times" id="time-qua">
                        <div class="time-group">
                            <label>In√≠cio</label>
                            <input type="time" name="qua-inicio">
                        </div>
                        <span class="time-separator">at√©</span>
                        <div class="time-group">
                            <label>Fim</label>
                            <input type="time" name="qua-fim">
                        </div>
                    </div>
                </div>

                <div class="agenda-item">
                    <div class="agenda-header">
                        <input type="checkbox" id="chk-qui" onchange="toggleTime('qui')">
                        <label for="chk-qui">Quinta-feira</label>
                    </div>
                    <div class="agenda-times" id="time-qui">
                        <div class="time-group">
                            <label>In√≠cio</label>
                            <input type="time" name="qui-inicio">
                        </div>
                        <span class="time-separator">at√©</span>
                        <div class="time-group">
                            <label>Fim</label>
                            <input type="time" name="qui-fim">
                        </div>
                    </div>
                </div>

                <div class="agenda-item">
                    <div class="agenda-header">
                        <input type="checkbox" id="chk-sex" onchange="toggleTime('sex')">
                        <label for="chk-sex">Sexta-feira</label>
                    </div>
                    <div class="agenda-times" id="time-sex">
                        <div class="time-group">
                            <label>In√≠cio</label>
                            <input type="time" name="sex-inicio">
                        </div>
                        <span class="time-separator">at√©</span>
                        <div class="time-group">
                            <label>Fim</label>
                            <input type="time" name="sex-fim">
                        </div>
                    </div>
                </div>

                <div class="agenda-item">
                    <div class="agenda-header">
                        <input type="checkbox" id="chk-sab" onchange="toggleTime('sab')">
                        <label for="chk-sab">S√°bado</label>
                    </div>
                    <div class="agenda-times" id="time-sab">
                        <div class="time-group">
                            <label>In√≠cio</label>
                            <input type="time" name="sab-inicio">
                        </div>
                        <span class="time-separator">at√©</span>
                        <div class="time-group">
                            <label>Fim</label>
                            <input type="time" name="sab-fim">
                        </div>
                    </div>
                </div>

                 <div class="agenda-item">
                    <div class="agenda-header">
                        <input type="checkbox" id="chk-dom" onchange="toggleTime('dom')">
                        <label for="chk-dom">Domingo</label>
                    </div>
                    <div class="agenda-times" id="time-dom">
                        <div class="time-group">
                            <label>In√≠cio</label>
                            <input type="time" name="dom-inicio">
                        </div>
                        <span class="time-separator">at√©</span>
                        <div class="time-group">
                            <label>Fim</label>
                            <input type="time" name="dom-fim">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Question√°rio de Triagem (Opcional)</label>
            <div class="question-builder">
                <div style="font-weight:600; color:var(--cor2); margin-bottom:10px;">Pergunta Exemplo</div>
                <input type="text" value="Qual a voltagem da tomada?" style="margin-bottom:10px;">
                <button type="button" style="background:none; border:none; color:var(--cor0); cursor:pointer; font-size:12px;">+ Adicionar op√ß√£o</button>
            </div>
            <button type="button" style="width:100%; padding:10px; border:1px dashed var(--cor2); color:var(--cor2); background:white; border-radius:8px; cursor:pointer;">+ Nova Pergunta</button>
        </div>

        <div class="terms-box">
            <input type="checkbox" id="termos" required style="width:auto; margin-top:3px;">
            <label for="termos">
                Declaro que as informa√ß√µes s√£o verdadeiras. Aceito os <a href="#" style="color:var(--cor2);">Termos de Uso</a> e a <a href="#" style="color:var(--cor2);">Pol√≠tica de Privacidade</a>.
            </label>
        </div>
    </div>

    <div class="form-nav">
        <button type="button" class="btn-prev" id="btn-prev" onclick="changeStep(-1)">Voltar</button>
        <button type="button" class="btn-next" id="btn-next" onclick="changeStep(1)">Pr√≥ximo</button>
        <button type="submit" class="btn-submit" id="btn-submit" style="display: none;">Publicar An√∫ncio</button>
    </div>

</form>

        <header class="navbar-mobile">
    <div id="logo-mobile">
        <a href="index.html">
            <img src="assets/Imagens/doke-logo.png" alt="Doke">
        </a>           
    </div>
    
    <nav class="menu">
        <div class="espacador"></div>
        <div class="botoes">
            <a href="login.html" class="entrar">
                Entrar
            </a>
        </div>
    </nav>
</header>

<nav class="bottom-nav">
    <a href="index.html" class="item active"> <img src="https://cdn-icons-png.flaticon.com/512/1946/1946436.png" class="icon azul" alt="In√≠cio"> <span>In√≠cio</span> </a>
    <a href="#" class="item"> <img src="https://cdn-icons-png.flaticon.com/512/622/622669.png" class="icon verde" alt="Explorar"> <span>Explorar</span> </a>
    <a href="anunciar.html" class="item"> <img src="assets/Imagens/icone-anunciar.png" class="icon azul" alt="Anunciar"> <span>Anunciar</span> </a>
    <a href="#" class="item"> <img src="https://cdn-icons-png.flaticon.com/512/1077/1077114.png" class="icon verde" alt="Perfil"> <span>Perfil</span> </a>
</nav>
    </main>

    <script>
    /* =========================================
       DADOS E L√ìGICA DE CATEGORIAS (TAGS)
       ========================================= */
    const todasCategorias = [
        "Reforma e Constru√ß√£o", "Assist√™ncia T√©cnica", "Aulas Particulares", "Beleza e Est√©tica",
        "Eletricista", "Encanador", "Pintura Residencial", "Gesso e Drywall", "Marcenaria", "Serralheria", "Vidra√ßaria", "Impermeabiliza√ß√£o",
        "Limpeza Residencial", "Limpeza P√≥s-Obra", "Diarista", "Passadeira", "Organiza√ß√£o de Ambientes", "Dedetiza√ß√£o", "Jardinagem", "Piscineiro",
        "Suporte T√©cnico", "Manuten√ß√£o Computadores", "Manuten√ß√£o Celulares", "Desenvolvimento Sites", "Design Gr√°fico", "Social Media", "Edi√ß√£o de V√≠deo",
        "Mec√¢nico", "Auto El√©trica", "Lava Jato", "Polimento Automotivo", "Guincho",
        "Refor√ßo Escolar", "Aulas de Ingl√™s", "Aulas de M√∫sica", "Personal Trainer",
        "Cabeleireiro(a)", "Manicure", "Maquiagem", "Massagem", "Est√©tica Facial",
        "Fotografia", "Filmagem", "DJ", "Cerimonialista", "Buffet", "Decora√ß√£o de Festas",
        "Contabilidade", "Consultoria Financeira", "Advocacia", "Frete", "Mudan√ßa", "Motoboy", "Outros"
    ];

    let categoriasSelecionadas = [];

    function renderCategorias(filtro = "") {
        const dropdown = document.getElementById('cat-dropdown');
        dropdown.innerHTML = "";
        
        const filtradas = todasCategorias.filter(c => 
            c.toLowerCase().includes(filtro.toLowerCase()) && 
            !categoriasSelecionadas.includes(c)
        );

        if (filtradas.length === 0) {
            dropdown.innerHTML = '<div style="padding:10px; color:#999; font-size:13px;">Nenhuma categoria encontrada.</div>';
            return;
        }

        filtradas.forEach(cat => {
            const div = document.createElement('div');
            div.className = 'cat-option';
            div.innerText = cat;
            div.onclick = () => addCategoria(cat);
            dropdown.appendChild(div);
        });
    }

    function addCategoria(cat) {
        if (!categoriasSelecionadas.includes(cat)) {
            categoriasSelecionadas.push(cat);
            atualizarTags();
            document.getElementById('cat-search').value = "";
            renderCategorias();
            document.getElementById('cat-dropdown').style.display = 'none';
        }
    }

    function removeCategoria(cat) {
        categoriasSelecionadas = categoriasSelecionadas.filter(c => c !== cat);
        atualizarTags();
    }

    function atualizarTags() {
        const wrapper = document.getElementById('tags-wrapper');
        const inputValidacao = document.getElementById('categorias-validacao');
        
        wrapper.innerHTML = "";
        categoriasSelecionadas.forEach(cat => {
            const tag = document.createElement('div');
            tag.className = 'tag-item';
            tag.innerHTML = `${cat} <span onclick="removeCategoria('${cat}')">√ó</span>`;
            wrapper.appendChild(tag);
        });

        // Atualiza input escondido para valida√ß√£o do form
        inputValidacao.value = categoriasSelecionadas.length > 0 ? categoriasSelecionadas.join(',') : "";
    }

    function filtrarCategorias() {
        const termo = document.getElementById('cat-search').value;
        renderCategorias(termo);
        document.getElementById('cat-dropdown').style.display = 'block';
    }

    function mostrarDropdown() {
        renderCategorias();
        document.getElementById('cat-dropdown').style.display = 'block';
    }

    // Fecha dropdown se clicar fora
    document.addEventListener('click', function(e) {
        const container = document.querySelector('.multi-select-container');
        if (!container.contains(e.target)) {
            document.getElementById('cat-dropdown').style.display = 'none';
        }
    });

    /* =========================================
       L√ìGICA DA AGENDA (HOR√ÅRIOS)
       ========================================= */
    function toggleTime(dia) {
        const checkbox = document.getElementById(`chk-${dia}`);
        const timeBox = document.getElementById(`time-${dia}`);
        const inputs = timeBox.querySelectorAll('input');

        if (checkbox.checked) {
            timeBox.classList.add('show');
            inputs.forEach(input => input.setAttribute('required', 'true'));
        } else {
            timeBox.classList.remove('show');
            inputs.forEach(input => {
                input.removeAttribute('required');
                input.value = ''; // Limpa se desmarcar
            });
        }
    }

    /* =========================================
       NAVEGA√á√ÉO E VALIDA√á√ÉO
       ========================================= */
    let currentStep = 1;
    const totalSteps = 4;

    function changeStep(direction) {
        if (direction === 1 && !validarPassoAtual()) return;

        document.getElementById(`step-${currentStep}`).classList.remove('active');
        currentStep += direction;
        if (currentStep < 1) currentStep = 1;
        if (currentStep > totalSteps) currentStep = totalSteps;
        document.getElementById(`step-${currentStep}`).classList.add('active');

        atualizarInterface();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function validarPassoAtual() {
        const stepDiv = document.getElementById(`step-${currentStep}`);
        const camposObrigatorios = stepDiv.querySelectorAll('[required]');
        let isValid = true;
        let firstInvalid = null;

        camposObrigatorios.forEach(campo => {
            if (!campo.checkValidity()) {
                
                // Trata o campo oculto de categorias
                if (campo.id === 'categorias-validacao') {
                    const container = document.querySelector('.multi-select-container');
                    container.style.border = "1px solid var(--cor3)";
                    container.classList.add('input-error');
                    setTimeout(() => container.style.border = "1px solid var(--cor-borda)", 2000);
                    if (!firstInvalid) firstInvalid = container;
                }
                // Trata uploads
                else if (campo.type === 'file' && campo.parentElement.classList.contains('upload-zone')) {
                    const uploadBox = campo.parentElement;
                    uploadBox.classList.add('input-error');
                    campo.addEventListener('change', () => {
                        if(campo.files.length > 0) uploadBox.classList.remove('input-error');
                    }, {once: true});
                    if (!firstInvalid) firstInvalid = uploadBox;
                } 
                else {
                    campo.classList.add('input-error');
                    campo.addEventListener('input', limparErro);
                    if (!firstInvalid) firstInvalid = campo;
                }
                isValid = false;
            } else {
                campo.classList.remove('input-error');
            }
        });

        if (!isValid && firstInvalid) {
            firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
            if(firstInvalid.tagName !== 'DIV') firstInvalid.focus();
        }
        return isValid;
    }

    function limparErro(e) {
        e.target.classList.remove('input-error');
    }

    function atualizarInterface() {
        for(let i=1; i<=totalSteps; i++) {
            const el = document.getElementById(`p-${i}`);
            el.classList.remove('active', 'completed');
            if(i < currentStep) { el.classList.add('completed'); el.innerHTML = '‚úì'; }
            else if(i === currentStep) { el.classList.add('active'); el.innerHTML = i; }
            else { el.innerHTML = i; }
        }

        const btnPrev = document.getElementById('btn-prev');
        const btnNext = document.getElementById('btn-next');
        const btnSubmit = document.getElementById('btn-submit');

        btnPrev.style.display = (currentStep === 1) ? 'none' : 'block';
        if (currentStep === totalSteps) {
            btnNext.style.display = 'none';
            btnSubmit.style.display = 'block';
        } else {
            btnNext.style.display = 'block';
            btnSubmit.style.display = 'none';
        }
    }

    function togglePriceInput() {
        const isFixo = document.getElementById('fixo').checked;
        const priceWrapper = document.getElementById('price-input-wrapper');
        const priceInput = priceWrapper.querySelector('input');
        priceWrapper.style.display = isFixo ? 'block' : 'none';
        if(isFixo) priceInput.setAttribute('required', 'true');
        else {
            priceInput.removeAttribute('required');
            priceInput.classList.remove('input-error');
        }
    }

    function toggleCNPJ() {
        const isPJ = document.getElementById('pj').checked;
        document.getElementById('lbl-nome').innerText = isPJ ? "Raz√£o Social" : "Nome Completo";
        document.getElementById('lbl-doc').innerText = isPJ ? "CNPJ" : "CPF";
    }

    atualizarInterface();
    </script>
</body>
</html>